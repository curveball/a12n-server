{
  "$schema": "https://json-schema.org/draft/2019-09/schema",
  "$id": "https://curveballjs.org/schemas/a12nserver/user-edit.json",
  "type": "object",
  "title": "UserEdit",
  "description": "This object describes the JSON repsentation of a PUT request on a user. It's mostly similar to the user schema, but with some fields not required.",

  "required": ["nickname", "active"],
  "additionalProperties": false,

  "properties": {
    "_links": {
      "description": "HAL Links"
    },
    "nickname": {
      "type": "string",
      "minLength": 3,
      "description": "Human-readable displayname for the user."
    },
    "active": {
      "type": "boolean",
      "description": "If false, the user will not be able to log in."
    },
    "name": {
      "type": "string",
      "description": "End-User's full name in displayable form including all name parts, possibly including titles and suffixes, ordered according to the End-User's locale and preferences."
    },
    "givenName": {
      "type": ["string", "null"],
      "description": "Given name(s) or first name(s) of the End-User."
    },
    "middleName": {
      "type": ["string", "null"],
      "description": "Middle name(s) of the End-User."
    },
    "familyName": {
      "type": ["string", "null"],
      "description": "Surname(s) or last name(s) of the End-User."
    },
    "birthdate": {
      "type": ["string", "null"],
      "format": "date",
      "description": "End-User's birthday, represented in YYYY-MM-DD format."
    },
    "address": {
      "type": ["object", "null"],
      "required": ["streetAddress", "locality", "region", "postalCode", "country"],
      "properties": {
        "streetAddress": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Street address. This property can be specified as an array to add multiple address lines."
        },
        "locality": {
          "type": ["string", "null"],
          "description": "City or locality component."
        },
        "region": {
          "type": ["string", "null"],
          "description": "State, province, prefecture, or region component. Should be specified as a code for countries where this is applicable."
        },
        "postalCode": {
          "type": ["string", "null"],
          "description": "Zip code or postal code component."
        },
        "country": {
          "type": ["string", "null"],
          "description": "Country, specified as an ISO 3166-1 alpha-2 country code. (e.g.: 'CA' or 'NL')",
          "pattern": "^[A-Z]{2}$"
        }
      }
    },
    "locale": {
      "type": ["string", "null"],
      "description": "End-User's preferred locale. This should follow the BCP47 format.",
      "pattern": "^[a-zA-Z]{2,3}(-[a-zA-Z]{4})?(-[a-zA-Z]{2,3})?(-[0-9]{3})?$"
    },
    "zoneinfo": {
      "type": ["string", "null"],
      "description": "String from the IANA Time Zone Database representing the End-User's time zone. For example, 'Europe/Amsterdam' or 'America/Los_Angeles'.",
      "pattern": "^[A-Za-z0-9/_-]+$"
    },
    "metadata": {
      "type": "object",
      "description": "Arbitrary meta-data storage. This can be used for any other values the client may want to store.",
      "additionalProperties": {
        "type": "string"
      }
    },
    "createdAt": {
      "type": "string",
      "format": "date-time",
      "description": "Creation date and time."
    },
    "modifiedAt": {
      "type": "string",
      "format": "date-time",
      "description": "Last time the user was modified."
    },
    "type": {
      "const": "user",
      "description": "May be 'user', 'app' or 'group'"
    },
    "privileges": {
      "description": "List of privileges. This object gets ignored in PUT requests and exists so API clients can GET a full user object, make their changes and then send it in the same shape.",
      "type": "object",
      "additionalProperties": {
        "type": "array",
        "items": {
          "type": "string"
        }
      }
    },
    "hasPassword": {
      "type": "boolean",
      "description": "Does the user have a password set? This will be removed in a future version. Use the authFactors resource instead.",
      "deprecated": true
    },
    "userInfo": {
      "type": "object",
      "properties": {
        "name": { "type": ["string", "null"] },
        "givenName": { "type": ["string", "null"] },
        "familyName": { "type": ["string", "null"] },
        "birthDate": { "type": ["string", "null"], "format": "date" },
        "address": {
          "type": ["object", "null"],
          "properties": {
            "locality": { "type": ["string", "null"] },
            "region": { "type": ["string", "null"] },
            "postalCode": { "type": ["string", "null"] },
            "country": { "type": ["string", "null"] }
          }
        },
        "locale": { "type": ["string", "null"] },
        "zoneInfo": { "type": ["string", "null"] }
      }
    }
  }
}
